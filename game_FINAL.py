"""–≥—Ä–∞"""
import random


stats = {
    'stories_created': 0,
    'achievements': [],
    'genres_played': set(),
    'total_story_score': 0.0  # –î–æ–¥–∞—î–º–æ float
}


achievements_list = {
    'first': '–ü–µ—Ä—à–∞ —ñ—Å—Ç–æ—Ä—ñ—è',
    'five': '5 —ñ—Å—Ç–æ—Ä—ñ–π',
    'ten': '10 —ñ—Å—Ç–æ—Ä—ñ–π',
    'all_genres': '–í—Å—ñ –∂–∞–Ω—Ä–∏',
    'speed_demon': '–®–≤–∏–¥–∫–∏–π –∞–≤—Ç–æ—Ä',
    'story_master': '–ú–∞–π—Å—Ç–µ—Ä —ñ—Å—Ç–æ—Ä—ñ–π',
    'high_scorer': '–í–∏—Å–æ–∫–∏–π –±–∞–ª'  # –ù–æ–≤–µ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –¥–ª—è float
}




genre_templates = {
    'comedy': [
        """
{0} –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è(–ª–∞—Å—å) –∑—Ä–∞–Ω–∫—É —É –Ω–∞—Å—Ç—Ä–æ—ó {1} —ñ –≤–∏—Ä—ñ—à–∏–≤(–ª–∞) –≤–∏—Ä—É—à–∏—Ç–∏ –¥–æ {2}. \
    –ü–æ –¥–æ—Ä–æ–∑—ñ –≤—ñ–Ω(–≤–æ–Ω–∞) –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –†–∞–ø—Ç–æ–º —Å—Ç–∞–ª–æ—Å—è —â–æ—Å—å –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–µ: {4}.
{0} {5} —ñ –≤–∏–≥—É–∫–Ω—É–≤(–ª–∞): "{6}". –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ {7}, —ñ —Å–∏—Ç—É–∞—Ü—ñ—è –∑–º—ñ–Ω–∏–ª–∞—Å—è: {8}.
–¶—è –∫—É–º–µ–¥–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –Ω–∞–≤—á–∏–ª–∞ {0}, —â–æ {9}.
        """,

        """
{0} –ø–æ—á—É–≤–∞–≤—Å—è(–ª–∞—Å—å) {1}, –∫–æ–ª–∏ –≤–∏—Ä—É—à–∏–≤(–ª–∞) {2}. \
    –î–æ—Ä–æ–≥–æ—é –≤—ñ–Ω(–≤–æ–Ω–∞) –Ω–∞—Ç—Ä–∞–ø–∏–≤(–ª–∞) –Ω–∞ {3}. –ù–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ {4}.
–£ –≤—ñ–¥–ø–æ–≤—ñ–¥—å {0} {5} —ñ —Å–∫–∞–∑–∞–≤(–ª–∞): "{6}". –ü–æ—Ç—ñ–º {7}, —â–æ –ø—Ä–∏–∑–≤–µ–ª–æ –¥–æ {8}.
–ó —Ü—å–æ–≥–æ –≤–∏–ø–∞–¥–∫—É {0} –∑—Ä–æ–∑—É–º—ñ–≤(–ª–∞), —â–æ {9}.
        """
    ],

    'adventure': [
        """
{0} –±—É–≤(–ª–∞) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1}, –∫–æ–ª–∏ –≤–∏—Ä—É—à–∏–≤(–ª–∞) {2}. –ü–æ –¥–æ—Ä–æ–∑—ñ –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –†–∞–ø—Ç–æ–º {4}.
–ì–µ—Ä–æ–π {5} —ñ –ø—Ä–æ–º–æ–≤–∏–≤(la): "{6}". –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ {7}, —ñ –≤—Å–µ –∑–º—ñ–Ω–∏–ª–æ—Å—è: {8}.
–¶—è –ø—Ä–∏–≥–æ–¥–∞ –Ω–∞–≤—á–∏–ª–∞ {0}, —â–æ {9}.
        """,

        """
{0} –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è(–ª–∞—Å—å) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1} —ñ –≤–∏—Ä—É—à–∏–≤(–ª–∞) {2}. \
    –®–ª—è—Ö–æ–º –≤—ñ–Ω(–≤–æ–Ω–∞) –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –ù–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ {4}.
{0} {5} —ñ –≤–∏–≥—É–∫–Ω—É–≤(–ª–∞): "{6}". –î–∞–ª—ñ {7}, —â–æ –∑–º—ñ–Ω–∏–ª–æ —Å–∏—Ç—É–∞—Ü—ñ—é: {8}.
–¶—è –ø–æ–¥–æ—Ä–æ–∂ –Ω–∞–≤—á–∏–ª–∞ {0}, —â–æ {9}.
        """
    ],

    'detective': [
        """
{0} –ø–æ—á—É–≤–∞–≤—Å—è(–ª–∞—Å—å) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1}, –∫–æ–ª–∏ –≤–∏—Ä—É—à–∏–≤(–ª–∞) {2}. \
    –ü–æ –¥–æ—Ä–æ–∑—ñ –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –°—Ç–∞–ª–æ—Å—è –∑–∞–≥–∞–¥–∫–æ–≤–µ: {4}.
{0} {5} —ñ —Å–∫–∞–∑–∞–≤(–ª–∞): "{6}". –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ {7}, —Ä–æ–∑–∫—Ä–∏–≤–∞—é—á–∏ –Ω–æ–≤—ñ –æ–±—Å—Ç–∞–≤–∏–Ω–∏: {8}.
–†–æ–∑—Å–ª—ñ–¥—É–≤–∞–Ω–Ω—è –Ω–∞–≤—á–∏–ª–æ {0}, —â–æ {9}.
        """,

        """
{0} –±—É–≤(–ª–∞) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1}, –ø—Ä—è–º—É—é—á–∏ {2}. –î–æ—Ä–æ–≥–æ—é –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –†–∞–ø—Ç–æ–º {4}.
–î–µ—Ç–µ–∫—Ç–∏–≤ {5} —ñ –ø—Ä–æ–º–æ–≤–∏–≤(–ª–∞): "{6}". –ü–æ—Ç—ñ–º {7}, —â–æ –∑–º—ñ–Ω–∏–ª–æ —Å–ø—Ä–∞–≤—É: {8}.
–¶—è —Å–ø—Ä–∞–≤–∞ –Ω–∞–≤—á–∏–ª–∞ {0}, —â–æ {9}.
        """
    ],

    'fantasy': [
        """
{0} –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è(–ª–∞—Å—å) –≤ —Ä–Ω–∞—Å—Ç—Ä–æ—ó {1} —ñ –≤–∏—Ä—É—à–∏–≤(–ª–∞) {2}. \
    –ü–æ –¥–æ—Ä–æ–∑—ñ –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –°—Ç–∞–ª–æ—Å—è –º–∞–≥—ñ—á–Ω–µ: {4}.
{0} {5} —ñ –≤–∏–º–æ–≤–∏–≤(–ª–∞): "{6}". –ü—ñ—Å–ª—è —á–æ–≥–æ {7}, —ñ —Ä–µ–∞–ª—å–Ω—ñ—Å—Ç—å –∑–º—ñ–Ω–∏–ª–∞—Å—è: {8}.
–¶—è –º–∞–≥—ñ—á–Ω–∞ –ø—Ä–∏–≥–æ–¥–∞ –Ω–∞–≤—á–∏–ª–∞ {0}, —â–æ {9}.
        """,

        """
{0} –ø–æ—á—É–≤–∞–≤—Å—è(–ª–∞—Å—å) –≤ –Ω–∞—Ç—Å—Ä–æ—ó {1}, –∫–æ–ª–∏ –ø—ñ—à–æ–≤(–ª–∞) {2}. –®–ª—è—Ö–æ–º –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –†–∞–ø—Ç–æ–º {4}.
–ì–µ—Ä–æ–π {5} —ñ —Å–∫–∞–∑–∞–≤(–ª–∞): "{6}". –ü–æ—Ç—ñ–º {7}, –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—á–∏ –≤—Å–µ: {8}.
–¶–µ —Ñ–µ–Ω—Ç–µ–∑—ñ –Ω–∞–≤—á–∏–ª–æ {0}, —â–æ {9}.
        """
    ],

    'romance': [
        """
{0} –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è(–ª–∞—Å—å) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1} —ñ –≤–∏—Ä—É—à–∏–≤(–ª–∞) {2}. \
    –ü–æ –¥–æ—Ä–æ–∑—ñ –∑—É—Å—Ç—Ä—ñ–≤—Å—è(–ª–∞—Å—å) {3}. –°—Ç–∞–ª–æ—Å—è —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–µ: {4}.
{0} {5} —ñ –ø—Ä–æ—à–µ–ø–æ—Ç—ñ–≤(–ª–∞): "{6}". –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ {7}, —ñ —Å—Ç–æ—Å—É–Ω–∫–∏ –∑–º—ñ–Ω–∏–ª–∏—Å—è: {8}.
–¶—è –ª—é–±–æ–≤–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—è –Ω–∞–≤—á–∏–ª–∞ {0}, —â–æ {9}.
        """,

        """
{0} –±—É–≤(la) –≤ –Ω–∞—Ç—Å—Ä–æ—ó {1}, –∫–æ–ª–∏ –ø—ñ—à–æ–≤(–ª–∞) {2}. –î–æ—Ä–æ–≥–æ—é –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –ù–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ {4}.
{0} {5} —ñ —Å–∫–∞–∑–∞–≤(–ª–∞): "{6}". –ü–æ—Ç—ñ–º {7}, —â–æ –∑–º—ñ–Ω–∏–ª–æ –ø–æ—á—É—Ç—Ç—è: {8}.
–¶–µ–π —Ä–æ–º–∞–Ω –Ω–∞–≤—á–∏–≤ {0}, —â–æ {9}.
        """
    ],

    'scifi': [
        """
{0} –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è(–ª–∞—Å—å) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1} —ñ –≤–∏—Ä—É—à–∏–≤(–ª–∞) {2}. \
    –ü–æ –¥–æ—Ä–æ–∑—ñ –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –°—Ç–∞–ª–æ—Å—è —Ñ—É—Ç—É—Ä–∏—Å—Ç–∏—á–Ω–µ: {4}.
{0} {5} —ñ –≤–∏–≥—É–∫–Ω—É–≤(–ª–∞): "{6}". –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ {7}, —ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –∑–º—ñ–Ω–∏–ª–∏ —É—Å–µ: {8}.
–¶–µ–π –Ω–∞—É–∫–æ–≤–æ-—Ñ–∞–Ω—Ç–∞—Å—Ç–∏—á–Ω–∏–π –¥–æ—Å–≤—ñ–¥ –Ω–∞–≤—á–∏–≤ {0}, —â–æ {9}.
        """,

        """
{0} –ø–æ—á—É–≤–∞–≤—Å—è(–ª–∞—Å—å) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1}, –∫–æ–ª–∏ –ø—ñ—à–æ–≤(–ª–∞) {2}. –®–ª—è—Ö–æ–º –∑—É—Å—Ç—Ä—ñ–≤(la) {3}. –†–∞–ø—Ç–æ–º {4}.
{0} {5} —ñ –ø—Ä–æ–º–æ–≤–∏–≤(–ª–∞): "{6}". –î–∞–ª—ñ {7}, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—É—é—á–∏ —Ä–µ–∞–ª—å–Ω—ñ—Å—Ç—å: {8}.
–¶—è –Ω–∞—É–∫–æ–≤–∞ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞ –Ω–∞–≤—á–∏–ª–∞ {0}, —â–æ {9}.
        """
    ],

    'life': [
        """
{0} –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è(–ª–∞—Å—å) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1} —ñ –≤–∏—Ä—É—à–∏–≤(–ª–∞) {2}. \
    –ü–æ –¥–æ—Ä–æ–∑—ñ –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –°—Ç–∞–ª–æ—Å—è –∂–∏—Ç—Ç—î–≤–µ: {4}.
{0} {5} —ñ —Å–∫–∞–∑–∞–≤(–ª–∞): "{6}". –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ {7}, —ñ –∂–∏—Ç—Ç—è –∑–º—ñ–Ω–∏–ª–æ—Å—è: {8}.
–¶–µ–π –∂–∏—Ç—Ç—î–≤–∏–π –¥–æ—Å–≤—ñ–¥ –Ω–∞–≤—á–∏–≤ {0}, —â–æ {9}.
        """,

        """
{0} –±—É–≤(–ª–∞) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1}, –∫–æ–ª–∏ –ø—ñ—à–æ–≤(–ª–∞) {2}. –î–æ—Ä–æ–≥–æ—é –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –†–∞–ø—Ç–æ–º {4}.
{0} {5} —ñ –ø—Ä–æ–º–æ–≤–∏–≤(–ª–∞): "{6}". –ü–æ—Ç—ñ–º {7}, —â–æ –∑–º—ñ–Ω–∏–ª–æ –¥–æ–ª—é: {8}.
–¶—è —ñ—Å—Ç–æ—Ä—ñ—è –Ω–∞–≤—á–∏–ª–∞ {0}, —â–æ {9}.
        """
    ],

    'absurd': [
        """
{0} –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è(–ª–∞—Å—å) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1} —ñ –≤–∏—Ä—É—à–∏–≤(–ª–∞) {2}. \
    –ü–æ –¥–æ—Ä–æ–∑—ñ –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –°—Ç–∞–ª–æ—Å—è –∞–±—Å—É—Ä–¥–Ω–µ: {4}.
{0} {5} —ñ –≤–∏–≥—É–∫–Ω—É–≤(–ª–∞): "{6}". –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ {7}, —ñ —Å–≤—ñ—Ç —Å—Ç–∞–≤ –±–µ–∑–≥–ª—É–∑–¥—ñ—à–∏–º: {8}.
–¶–µ–π –∞–±—Å—É—Ä–¥ –Ω–∞–≤—á–∏–≤ {0}, —â–æ {9}.
        """,

        """
{0} –ø–æ—á—É–≤–∞–≤—Å—è(–ª–∞—Å—å) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1}, –ø—Ä—è–º—É—é—á–∏ {2}. –®–ª—è—Ö–æ–º –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –†–∞–ø—Ç–æ–º {4}.
{0} {5} —ñ —Å–∫–∞–∑–∞–≤(–ª–∞): "{6}". –î–∞–ª—ñ {7}, —Ä—É–π–Ω—É—é—á–∏ –ª–æ–≥—ñ–∫—É: {8}.
–¶—è –±–µ–∑–≥–ª—É–∑–¥–∞ —ñ—Å—Ç–æ—Ä—ñ—è –Ω–∞–≤—á–∏–ª–∞ {0}, —â–æ {9}.
        """
    ],

    'horror': [
        """
{0} –ø—Ä–æ–∫–∏–Ω—É–≤—Å—è(–ª–∞—Å—å) –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1} —ñ –≤–∏—Ä—É—à–∏–≤(–ª–∞) \
    {2}. –ü–æ –¥–æ—Ä–æ–∑—ñ –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –°—Ç–∞–ª–æ—Å—è –∂–∞—Ö–ª–∏–≤–µ: {4}.
{0} {5} —ñ –ø—Ä–æ—à–µ–ø–æ—Ç—ñ–≤(–ª–∞): "{6}". –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ {7}, —ñ –∂–∞—Ö –ø–æ—Å–∏–ª–∏–≤—Å—è: {8}.
–¶–µ–π –∂–∞—Ö –Ω–∞–≤—á–∏–≤ {0}, —â–æ {9}.
        """,

        """
{0} –±—É–≤ –≤ –Ω–∞—Å—Ç—Ä–æ—ó {1}, –∫–æ–ª–∏ –ø—ñ—à–æ–≤(–ª–∞) {2}. –î–æ—Ä–æ–≥–æ—é –∑—É—Å—Ç—Ä—ñ–≤(–ª–∞) {3}. –†–∞–ø—Ç–æ–º {4}.
{0} {5} —ñ –≤–∏–º–æ–≤–∏–≤(–ª–∞): "{6}". –ü–æ—Ç—ñ–º {7}, –Ω–∞–ø–æ–≤–Ω—é—é—á–∏ –≤—Å–µ —Å—Ç—Ä–∞—Ö–æ–º: {8}.
–¶–µ–π —Ö–æ—Ä—Ä–æ—Ä –Ω–∞–≤—á–∏–≤ {0}, —â–æ {9}.
        """
    ]
}


def calculate_story_score(answers):
    """–†–æ–∑—Ä–∞—Ö–æ–≤—É—î –±–∞–ª —ñ—Å—Ç–æ—Ä—ñ—ó (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î float)"""
    base_score = 10.0  # float
    length_bonus = len(''.join(answers)) * 0.1  # float –æ–ø–µ—Ä–∞—Ü—ñ—ó
    creativity_bonus = sum(len(word) for word in answers if len(word) > 5) * 0.05  # float
    total_score = base_score + length_bonus + creativity_bonus
    return round(total_score, 2)  # –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ float


def show_progress():
    """–ü–æ–∫–∞–∑—É—î –ø—Ä–æ–≥—Ä–µ—Å (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î range)"""
    print("\nüìä –í–ê–® –ü–†–û–ì–†–ï–°:")

    # –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è range –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä—ñ–≤–Ω—ñ–≤
    for level in range(1, 11):  # range
        if stats['stories_created'] >= level:
            print(f"   –†—ñ–≤–µ–Ω—å {level}: ‚úÖ")
        else:
            print(f"   –†—ñ–≤–µ–Ω—å {level}: üîí")

    # –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è range –¥–ª—è —à–∫–∞–ª–∏ –ø—Ä–æ–≥—Ä–µ—Åy
    progress_range = range(0, 101, 10)  # range –∑ –∫—Ä–æ–∫–æ–º
    current_progress = min(stats['stories_created'] * 10, 100)

    print(f"\n–ó–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å: {current_progress}%")
    print("[" + "".join("‚ñà" if i <= current_progress else "‚ñë" for i in progress_range) + "]")


def add_story(genre):
    """–î–æ–¥–∞—î –æ–¥–Ω—É —ñ—Å—Ç–æ—Ä—ñ—é –¥–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
    stats['stories_created'] += 1
    stats['genres_played'].add(genre)
    check_achievements()


def check_achievements():
    """–ü–µ—Ä–µ–≤—ñ—Ä—è—î –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è"""
    count = stats['stories_created']
    genres_count = len(stats['genres_played'])
    avg_score = stats['total_story_score'] / max(1, count)  # float –æ–ø–µ—Ä–∞—Ü—ñ—è

    achievements_to_check = [
        ('first', count >= 1),
        ('five', count >= 5),
        ('ten', count >= 10),
        ('all_genres', genres_count >= 5),
        ('speed_demon', count >= 3),
        ('story_master', count >= 8),
        ('high_scorer', avg_score >= 15.0)  # float –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è
    ]

    for achievement_id, condition in achievements_to_check:
        if condition and achievement_id not in stats['achievements']:
            unlock_achievement(achievement_id)


def unlock_achievement(achievement_id):
    """–†–æ–∑–±–ª–æ–∫–æ–≤—É—î –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è"""
    stats['achievements'].append(achievement_id)
    name = achievements_list[achievement_id]
    print(f"\nüéâ –î–û–°–Ø–ì–ù–ï–ù–ù–Ø –†–û–ó–ë–õ–û–ö–û–í–ê–ù–û: {name}!")


def show_stats():
    """–ü–æ–∫–∞–∑—É—î —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É"""
    print("\nüìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê:")
    print(f"   –°—Ç–≤–æ—Ä–µ–Ω–æ —ñ—Å—Ç–æ—Ä—ñ–π: {stats['stories_created']}")
    print(f"   –ñ–∞–Ω—Ä—ñ–≤ —Å–ø—Ä–æ–±–æ–≤–∞–Ω–æ: {len(stats['genres_played'])}")

    if stats['stories_created'] > 0:
        avg_score = stats['total_story_score'] / stats['stories_created']  # float –¥—ñ–ª–µ–Ω–Ω—è
        print(f"   –°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª —ñ—Å—Ç–æ—Ä—ñ–π: {avg_score:.2f}")  # float —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è

    show_progress()  # –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è range


def show_achievements():
    """–û–∫—Ä–µ–º–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –¥–æ—Å—è–≥–Ω–µ–Ω—å"""
    print("\n" + "="*50)
    print("üèÜ –í–ê–®–Ü –î–û–°–Ø–ì–ù–ï–ù–ù–Ø")
    print("="*50)

    print("\n–†–û–ó–ë–õ–û–ö–û–í–ê–ù–Ü –î–û–°–Ø–ì–ù–ï–ù–ù–Ø:")
    if stats['achievements']:
        for i, ach_id in enumerate(stats['achievements'], 1):
            print(f"   {i}. ‚úÖ {achievements_list[ach_id]}")
    else:
        print("   –ü–æ–∫–∏ —â–æ –Ω–µ–º–∞—î —Ä–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–∏—Ö –¥–æ—Å—è–≥–Ω–µ–Ω—å")

    print("\nüîí –©–ï –ù–ï –†–û–ó–ë–õ–û–ö–û–í–ê–ù–û:")
    locked_count = 0
    for ach_id, ach_name in achievements_list.items():
        if ach_id not in stats['achievements']:
            locked_count += 1
            print(f"   {locked_count}. ‚ùå {ach_name}")

    if locked_count == 0:
        print("   üéä –í—Å—ñ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —Ä–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–æ! –í—ñ—Ç–∞—é!")



def choose_genre():
    """–í–∏–±—ñ—Ä –∂–∞–Ω—Ä—É —ñ—Å—Ç–æ—Ä—ñ—ó"""
    print("\nüé≠ –û–ë–ï–†–Ü–¢–¨ –ñ–ê–ù–† –Ü–°–¢–û–†–Ü–á:")

    genres = [
        "–ö–æ–º–µ–¥—ñ—è", "–ü—Ä–∏–≥–æ–¥–∏", "–î–µ—Ç–µ–∫—Ç–∏–≤", "–§–µ–Ω—Ç–µ–∑—ñ",
        "–†–æ–º–∞–Ω—Ç–∏–∫–∞", "–ù–∞—É–∫–æ–≤–∞ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞", "–ñ–∏—Ç—Ç—î–≤—ñ —ñ—Å—Ç–æ—Ä—ñ—ó",
        "–ê–±—Å—É—Ä–¥", "–•–æ—Ä—Ä–æ—Ä"
    ]

    for i, genre in enumerate(genres, 1):
        print(f"{i}. {genre}")

    genre_map = {
        '1': 'comedy',
        '2': 'adventure',
        '3': 'detective',
        '4': 'fantasy',
        '5': 'romance',
        '6': 'scifi',
        '7': 'life',
        '8': 'absurd',
        '9': 'horror'
    }

    while True:
        choice = input(">>> ")
        if choice in genre_map:
            return genre_map[choice]
        print("–ë—É–¥—å –ª–∞—Å–∫–∞, –æ–±–µ—Ä—ñ—Ç—å —á–∏—Å–ª–æ –≤—ñ–¥ 1 –¥–æ 9")

def show_instructions():
    """–ü–æ–∫–∞–∑—É—î —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –¥–æ –≥—Ä–∏"""
    print("\n" + "="*60)
    print("üìñ –Ü–ù–°–¢–†–£–ö–¶–Ü–Ø –î–û –ì–†–ò")
    print("="*60)
    print("""
üéØ –Ø–ö –ì–†–ê–¢–ò:
1. –û–±–µ—Ä—ñ—Ç—å –∂–∞–Ω—Ä —ñ—Å—Ç–æ—Ä—ñ—ó
2. –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π—Ç–µ –Ω–∞ 10 –ø–∏—Ç–∞–Ω—å
3. –û—Ç—Ä–∏–º–∞–π—Ç–µ —É–Ω—ñ–∫–∞–ª—å–Ω—É —ñ—Å—Ç–æ—Ä—ñ—é
4. –ó–±–∏—Ä–∞–π—Ç–µ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è

üí° –ü–û–†–ê–î–ò:
‚Ä¢ –°–ø—Ä–æ–±—É–π—Ç–µ –≤—Å—ñ –∂–∞–Ω—Ä–∏ –¥–ª—è —Ä–æ–∑–±–ª–æ–∫—É–≤–∞–Ω–Ω—è –≤—Å—ñ—Ö –¥–æ—Å—è–≥–Ω–µ–Ω—å
‚Ä¢ –ß–∏–º –±—ñ–ª—å—à–µ —ñ—Å—Ç–æ—Ä—ñ–π - —Ç–∏–º –±—ñ–ª—å—à–µ –¥–æ—Å—è–≥–Ω–µ–Ω—å
‚Ä¢ –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É–π—Ç–µ –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏

üéÆ –£–ü–†–ê–í–õ–Ü–ù–ù–Ø:
‚Ä¢ –í–≤–æ–¥–∏—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –≤ –∫–æ–Ω—Å–æ–ª—å
‚Ä¢ –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Ctrl+C –¥–ª—è –≤–∏—Ö–æ–¥—É
‚Ä¢ –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è –≤ –º–µ–Ω—é

–û–±–µ—Ä—ñ—Ç—å "–ü–æ—á–∞—Ç–∏ –≥—Ä—É"!
""")


def show_welcome():
    """Welcoming players screen"""
    print("=" * 50)
    print("–°—Ç–≤–æ—Ä—é–π —É–Ω—ñ–∫–∞–ª—å–Ω—ñ —ñ—Å—Ç–æ—Ä—ñ—ó —É —Ä—ñ–∑–Ω–∏—Ö –∂–∞–Ω—Ä–∞—Ö!")
    print("üí° –ó–±–∏—Ä–∞–π –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è!")
    print("=" * 50)
    print("1 - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è")
    print("2 - –ü–æ—á–∞—Ç–∏ –≥—Ä—É")
    print("3 - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞")
    print("4 - –î–æ—Å—è–≥–Ω–µ–Ω–Ω—è")
    print("5 - –í–∏—Ö—ñ–¥")

    while True:
        try:
            answer_user = input(">>> ")
        except EOFError:
            print("–£–ø—Å, –í–∏ –Ω—ñ—á–æ–≥–æ –Ω–µ –≤–≤–µ–ª–∏!")
            continue

        if answer_user == "1":
            show_instructions()
        elif answer_user == "2":
            main_game()
        elif answer_user == "3":
            show_stats()
        elif answer_user == "4":
            show_achievements()
        elif answer_user == "5" or answer_user.lower() == "exit":
            print("–î—è–∫—É—î–º–æ –∑–∞ –≥—Ä—É! –ü–æ–≤–µ—Ä—Ç–∞–π—Å—è –∑ –Ω–æ–≤–∏–º–∏ —ñ–¥–µ—è–º–∏! üé®")
            break
        else:
            print("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å 1 - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è, 2 - –ì—Ä–∞, \
                  3 - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, 4 - –î–æ—Å—è–≥–Ω–µ–Ω–Ω—è, 5 - –í–∏—Ö—ñ–¥")

        print("\n1 - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è, 2 - –ì—Ä–∞, 3 - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, 4 - –î–æ—Å—è–≥–Ω–µ–Ω–Ω—è, 5 - –í–∏—Ö—ñ–¥")


def get_random_questions():
    """–ü–æ–≤–µ—Ä—Ç–∞—î 10 –¥–µ—Ç–∞–ª—å–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å"""
    questions = [
        "–•—Ç–æ –≥–æ–ª–æ–≤–Ω–∏–π –≥–µ—Ä–æ–π —ñ—Å—Ç–æ—Ä—ñ—ó?",
        "–Ø–∫–∏–π –Ω–∞—Å—Ç—Ä—ñ–π –±—É–≤ —É –≥–µ—Ä–æ—è –∑—Ä–∞–Ω–∫—É?",
        "–ö—É–¥–∏ –≤—ñ–Ω/–≤–æ–Ω–∞ –≤–∏—Ä—É—à–∏–≤(–ª–∞)?",
        "–ö–æ–≥–æ –∑—É—Å—Ç—Ä—ñ–≤—Å—è(–ª–∞—Å—å) –ø–æ –¥–æ—Ä–æ–∑—ñ?",
        "–©–æ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ–≥–æ —Å—Ç–∞–ª–æ—Å—è?",
        "–Ø–∫ –≥–µ—Ä–æ–π –≤—ñ–¥—Ä–µ–∞–≥—É–≤–∞–≤ –Ω–∞ –ø–æ–¥—ñ—é?",
        "–©–æ –≤—ñ–Ω/–≤–æ–Ω–∞ —Å–∫–∞–∑–∞–≤(–ª–∞) –≤ —Ü–µ–π –º–æ–º–µ–Ω—Ç?",
        "–©–æ —Å—Ç–∞–ª–æ—Å—è –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ?",
        "–Ø–∫ –∑–º—ñ–Ω–∏–ª–∞—Å—è —Å–∏—Ç—É–∞—Ü—ñ—è?",
        "–Ø–∫–∏–π —É—Ä–æ–∫ –≤–∏–Ω—ñ—Å –≥–µ—Ä–æ–π –∑ —Ü—ñ—î—ó —ñ—Å—Ç–æ—Ä—ñ—ó?"
    ]
    return questions


def ask_questions():
    """–ó–∞–¥–∞—î 10 –ø–∏—Ç–∞–Ω—å —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ"""
    questions = get_random_questions()
    answers = []

    print("\nüìù –í–Ü–î–ü–û–í–Ü–î–ê–ô–¢–ï –ù–ê –ü–ò–¢–ê–ù–ù–Ø:")
    print("=" * 50)

    # –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è range –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É
    question_range = range(1, 11)  # range

    for i in question_range:
        print(f"\n[{i}/10] {questions[i-1]}")
        answer = input(">>> ")

        if answer.lower() == "exit":
            print("–î—è–∫—É—é –∑–∞ –≥—Ä—É!!")
            return None

        answers.append(answer)

    return answers


def generate_story(answers, genre):
    """–ì–µ–Ω–µ—Ä—É—î —ñ—Å—Ç–æ—Ä—ñ—é –∑ –≤–∏–±—Ä–∞–Ω–∏–º –∂–∞–Ω—Ä–æ–º"""
    templates = genre_templates[genre]
    template = random.choice(templates)
    story = template.format(*answers)
    return story


def main_game():
    """–û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –≥—Ä–∏"""
    try:
        genre = choose_genre()
        answers = ask_questions()

        if answers is None:
            return

        if len(answers) < 10:
            print("–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó!")
            return

        print("\n" + "=" * 50)
        print("üîÑ –°–¢–í–û–†–Æ–Ñ–ú–û –Ü–°–¢–û–†–Ü–Æ...")
        print("=" * 50)

        story = generate_story(answers, genre)

        print("\nüìö –í–ê–®–ê –£–ù–Ü–ö–ê–õ–¨–ù–ê –Ü–°–¢–û–†–Ü–Ø:")
        print(story)

        # –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ç–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±–∞–ª—É (float)
        story_score = calculate_story_score(answers)
        stats['total_story_score'] += story_score  # float –¥–æ–¥–∞–≤–∞–Ω–Ω—è

        print(f"\n‚≠ê –ë–ê–õ –Ü–°–¢–û–†–Ü–á: {story_score}/20.0")

        if story_score >= 15.0:
            print("   –í—ñ–¥–º—ñ–Ω–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! üéä")
        elif story_score >= 12.0:
            print("   –î–æ–±—Ä–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! üëç")
        else:
            print("   –ù–µ–ø–æ–≥–∞–Ω–æ! –ü—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ —Ç–≤–æ—Ä–∏—Ç–∏! üí´")

        add_story(genre)

    except KeyboardInterrupt:
        print("\n\nüëã –ü–æ–≤–µ—Ä—Ç–∞–π—Å—è —Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—ñ —ñ—Å—Ç–æ—Ä—ñ—ó!")


def main():
    """–ì–æ–ª–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è"""
    show_welcome()


if __name__ == "__main__":
    main()
